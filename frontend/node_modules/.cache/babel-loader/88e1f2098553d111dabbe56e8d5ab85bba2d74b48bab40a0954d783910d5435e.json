{"ast":null,"code":"import _objectSpread from\"/Users/razashaikh/Desktop/sih/python-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Box,Container,Paper,TextField,Button,Typography,Alert,Card,CardContent,Grid,Divider,Chip}from'@mui/material';import{Nature as NatureIcon,Person as UserIcon,AdminPanelSettings as AdminIcon}from'@mui/icons-material';import{useAuth}from'../contexts/AuthContext';import{useSnackbar}from'notistack';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{login}=useAuth();const{enqueueSnackbar}=useSnackbar();const[formData,setFormData]=useState({email:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const result=await login(formData.email,formData.password);if(result.success){enqueueSnackbar(\"Welcome, \".concat(result.user.name,\"!\"),{variant:'success'});// Redirect based on role\nif(result.user.role==='admin'){navigate('/admin/dashboard');}else{navigate('/user/dashboard');}}}catch(err){setError(err.message);enqueueSnackbar('Login failed',{variant:'error'});}finally{setLoading(false);}};const handleDemoLogin=userType=>{if(userType==='admin'){setFormData({email:'admin@nccr.gov.in',password:'admin123'});}else{setFormData({email:'user@demo.com',password:'user123'});}};return/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh',background:'linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)',display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{elevation:8,sx:{p:4,borderRadius:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',mb:4},children:[/*#__PURE__*/_jsx(NatureIcon,{sx:{fontSize:60,color:'#1976d2',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Blue Carbon MRV\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:\"Monitoring, Reporting & Verification System\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email Address\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,required:true,sx:{mb:3}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",name:\"password\",type:\"password\",value:formData.password,onChange:handleChange,required:true,sx:{mb:3}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,sx:{mb:3,py:1.5},children:loading?'Signing In...':'Sign In'})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:3},children:/*#__PURE__*/_jsx(Chip,{label:\"Demo Access\"})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(UserIcon,{}),onClick:()=>handleDemoLogin('user'),sx:{py:1.5},children:\"User Demo\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(AdminIcon,{}),onClick:()=>handleDemoLogin('admin'),sx:{py:1.5},children:\"Admin Demo\"})})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,textAlign:'center'},children:/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:()=>navigate('/'),sx:{textDecoration:'underline'},children:\"\\u2190 Back to Home\"})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Box,{sx:{pl:{md:4}},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h2\",gutterBottom:true,color:\"primary\",children:\"Access Your Portal\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",paragraph:true,color:\"textSecondary\",children:\"Choose your access level to get started with the Blue Carbon MRV System\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{border:'2px solid #4caf50'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(UserIcon,{sx:{fontSize:40,color:'#4caf50',mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"#4caf50\",children:\"Community Users\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Submit and track restoration projects\"})]})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Demo Credentials:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Email: user@demo.com\",/*#__PURE__*/_jsx(\"br\",{}),\"Password: user123\"]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{border:'2px solid #ff9800'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(AdminIcon,{sx:{fontSize:40,color:'#ff9800',mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"#ff9800\",children:\"NCCR Administrators\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Review and manage the entire system\"})]})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Demo Credentials:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Email: admin@nccr.gov.in\",/*#__PURE__*/_jsx(\"br\",{}),\"Password: admin123\"]})]})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4,p:3,background:'rgba(255,255,255,0.8)',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\uD83D\\uDD12 Security Notice\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"This is a demonstration system. In production, proper authentication and authorization would be implemented with secure credentials.\"})]})]})})]})})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Typography,Container,Box,Grid,Card,CardContent,Button,Alert,LinearProgress,Chip,Avatar,List,ListItem,ListItemIcon,ListItemText,Divider,Paper,IconButton,Tooltip}from'@mui/material';import{Add as AddIcon,Nature as EcoIcon,CheckCircle as CheckCircleIcon,Schedule as ScheduleIcon,PhotoCamera as PhotoIcon,LocationOn as LocationIcon,Store as MarketIcon,AccountBalance as ProjectIcon,Verified as VerifiedIcon,Payment as PaymentIcon,Notifications as NotificationIcon,Logout as LogoutIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SimpleDashboard=()=>{const navigate=useNavigate();const[userInfo,setUserInfo]=useState(null);const[dashboardData,setDashboardData]=useState({projects:[],stats:{totalProjects:0,pendingReview:0,approved:0,carbonCredits:0}});useEffect(()=>{// Get user info from localStorage\nconst storedUserInfo=localStorage.getItem('userInfo');if(storedUserInfo){setUserInfo(JSON.parse(storedUserInfo));}// Fetch dashboard data\nfetchDashboardData();},[]);const fetchDashboardData=async()=>{try{var _data$projects,_data$projects2,_data$projects3,_data$projects4;const response=await fetch('http://localhost:8002/api/projects');const data=await response.json();setDashboardData({projects:data.projects||[],stats:{totalProjects:((_data$projects=data.projects)===null||_data$projects===void 0?void 0:_data$projects.length)||0,pendingReview:((_data$projects2=data.projects)===null||_data$projects2===void 0?void 0:_data$projects2.filter(p=>p.status==='pending_verification'||p.status==='requires_review').length)||0,approved:((_data$projects3=data.projects)===null||_data$projects3===void 0?void 0:_data$projects3.filter(p=>p.status==='approved').length)||0,carbonCredits:((_data$projects4=data.projects)===null||_data$projects4===void 0?void 0:_data$projects4.reduce((sum,p)=>sum+(p.carbon_credits||0),0))||0}});}catch(error){console.error('Error fetching dashboard data:',error);}};const handleLogout=()=>{// Clear localStorage\nlocalStorage.removeItem('userInfo');localStorage.removeItem('auth_token');// Navigate to login\nnavigate('/login');};const quickActions=[{title:'Create New Project',description:'Start a new blue carbon restoration project',icon:/*#__PURE__*/_jsx(AddIcon,{}),color:'primary',action:()=>navigate('/projects/create')},{title:'View Projects',description:'Manage your existing projects',icon:/*#__PURE__*/_jsx(ProjectIcon,{}),color:'secondary',action:()=>navigate('/projects')},{title:'Data Collection',description:'Collect field data and measurements',icon:/*#__PURE__*/_jsx(PhotoIcon,{}),color:'success',action:()=>navigate('/data-collection')},{title:'Marketplace',description:'Trade carbon credits',icon:/*#__PURE__*/_jsx(MarketIcon,{}),color:'warning',action:()=>navigate('/marketplace')},{title:'Carbon Credits',description:'Manage tokenized carbon credits',icon:/*#__PURE__*/_jsx(VerifiedIcon,{}),color:'info',action:()=>navigate('/carbon-credits')},{title:'Payments',description:'Transfer blockchain carbon credits',icon:/*#__PURE__*/_jsx(PaymentIcon,{}),color:'success',action:()=>navigate('/payments')},{title:'Reports',description:'View detailed analytics and reports',icon:/*#__PURE__*/_jsx(LocationIcon,{}),color:'success',action:()=>navigate('/reports')}];const recentActivities=[{title:'Project Submitted',description:'Mangrove restoration project submitted for review',time:'2 hours ago',icon:/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"})},{title:'AI Verification Complete',description:'Automated verification completed with 85% confidence',time:'4 hours ago',icon:/*#__PURE__*/_jsx(VerifiedIcon,{color:\"primary\"})},{title:'Field Data Uploaded',description:'GPS coordinates and photos uploaded successfully',time:'1 day ago',icon:/*#__PURE__*/_jsx(LocationIcon,{color:\"info\"})}];return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",sx:{mt:2,mb:4},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:4},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',mb:2},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,children:\"\\uD83C\\uDF0A Welcome to Blue Carbon MRV\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textSecondary\",gutterBottom:true,children:userInfo?\"Hello, \".concat(userInfo.email):'Community Dashboard'}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:\"Monitor, Report, and Verify your coastal ecosystem restoration projects\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",startIcon:/*#__PURE__*/_jsx(LogoutIcon,{}),onClick:handleLogout,sx:{ml:2},children:\"Logout\"})]})}),/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:3},children:\"\\uD83D\\uDD17 System Status: All services operational | Backend: Connected | AI Verification: Active\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'primary.main',mr:2},children:/*#__PURE__*/_jsx(ProjectIcon,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Total Projects\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:dashboardData.stats.totalProjects})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'warning.main',mr:2},children:/*#__PURE__*/_jsx(ScheduleIcon,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Pending Review\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:dashboardData.stats.pendingReview})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'success.main',mr:2},children:/*#__PURE__*/_jsx(CheckCircleIcon,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Approved\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:dashboardData.stats.approved})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'secondary.main',mr:2},children:/*#__PURE__*/_jsx(EcoIcon,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Carbon Credits\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:dashboardData.stats.carbonCredits})]})]})})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"\\uD83D\\uDE80 Quick Actions\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:quickActions.map((action,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{sx:{cursor:'pointer','&:hover':{transform:'translateY(-2px)',boxShadow:3},transition:'all 0.2s'},onClick:action.action,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:\"\".concat(action.color,\".main\"),mr:2},children:action.icon}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:action.title})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:action.description})]})})},index))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"\\uD83D\\uDCCB Recent Activity\"}),/*#__PURE__*/_jsx(Tooltip,{title:\"Notifications\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(NotificationIcon,{})})})]}),/*#__PURE__*/_jsx(List,{children:recentActivities.map((activity,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(ListItem,{sx:{px:0},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:activity.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:activity.title,secondary:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:activity.description}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:activity.time})]})})]}),index<recentActivities.length-1&&/*#__PURE__*/_jsx(Divider,{})]},index))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"\\uD83C\\uDF31 Recent Projects\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>navigate('/projects/create'),children:\"Create New Project\"})]}),dashboardData.projects.length===0?/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"No projects found. Create your first blue carbon restoration project to get started!\"}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:dashboardData.projects.slice(0,3).map(project=>{var _project$status;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:project.project_name}),/*#__PURE__*/_jsx(Chip,{label:(_project$status=project.status)===null||_project$status===void 0?void 0:_project$status.replace('_',' ').toUpperCase(),color:project.status==='approved'?'success':'warning',size:\"small\",sx:{mb:2}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",gutterBottom:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ecosystem:\"}),\" \",project.ecosystem_type]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",gutterBottom:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Area:\"}),\" \",project.area_hectares,\" hectares\"]}),project.verification_score&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"AI Verification Score: \",project.verification_score,\"/100\"]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:project.verification_score,color:project.verification_score>=80?'success':'warning'})]})]})})},project.id);})})]})})]})]});};export default SimpleDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}